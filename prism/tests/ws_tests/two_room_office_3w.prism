mdp
 
module M 
 
waypoint:[0..2] init 1;
door_edge0:[-1..1] init -1;
door_edge1:[-1..1] init -1;

[doorPassing_WayPoint1_WayPoint0] (waypoint=1) & (door_edge0=1) -> 1.0:(waypoint'=0);
[doorPassing_WayPoint1_WayPoint2] (waypoint=1) & (door_edge1=1) -> 1.0:(waypoint'=2);

[doorPassing_WayPoint2_WayPoint1] (waypoint=2) & (door_edge1=1) -> 1.0:(waypoint'=1);
[doorPassing_WayPoint0_WayPoint1] (waypoint=0) & (door_edge0=1) -> 1.0:(waypoint'=1);

[check_door0] (waypoint=0) & (door_edge0=-1) -> 0.1:(waypoint'=0) & (door_edge0'=0) + 0.9:(waypoint'=0) & (door_edge0'=1);
[check_door0] (waypoint=1) & (door_edge0=-1) -> 0.1:(waypoint'=1) & (door_edge0'=0) + 0.9:(waypoint'=1) & (door_edge0'=1);

[check_door1] (waypoint=1) & (door_edge1=-1) -> 0.1:(waypoint'=1) & (door_edge1'=0) + 0.9:(waypoint'=1) & (door_edge1'=1);
[check_door1] (waypoint=2) & (door_edge1=-1) -> 0.1:(waypoint'=2) & (door_edge1'=0) + 0.9:(waypoint'=2) & (door_edge1'=1);

endmodule

label "WayPoint1" = (waypoint=1);
label "WayPoint2" = (waypoint=2);
label "WayPoint0" = (waypoint=0);

rewards "time"

	[doorPassing_WayPoint1_WayPoint0] (waypoint=1) & (door_edge0=1):1.0;
	[doorPassing_WayPoint1_WayPoint2] (waypoint=1) & (door_edge1=1):1.0;

	[doorPassing_WayPoint2_WayPoint1] (waypoint=2) & (door_edge1=1):1.0;
	[doorPassing_WayPoint0_WayPoint1] (waypoint=0) & (door_edge0=1):1.0;

	[check_door0] (waypoint=0) & (door_edge0=-1):1.0;
	[check_door0] (waypoint=1) & (door_edge0=-1):1.0;

	[check_door1] (waypoint=1) & (door_edge1=-1):1.0;
	[check_door1] (waypoint=2) & (door_edge1=-1):1.0;

endrewards
